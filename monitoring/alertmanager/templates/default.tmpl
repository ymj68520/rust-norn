{{ define "slack.default.title" }}
[{{ .Status | toUpper }}] {{ .GroupLabels.alertname }}
{{ end }}

{{ define "slack.default.text" }}
{{ range .Alerts }}
*Alert:* {{ .Labels.alertname }}
*Severity:* {{ .Labels.severity }}
*Category:* {{ .Labels.category }}
*Summary:* {{ .Annotations.summary }}
*Description:* {{ .Annotations.description }}
{{ if .Annotations.runbook_url }}*Runbook:* {{ .Annotations.runbook_url }}{{ end }}
*Instance:* {{ .Labels.instance }}
*Started:* {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}
{{ if .EndsAt }}*Ended:* {{ .EndsAt.Format "2006-01-02 15:04:05 MST" }}{{ end }}
---
{{ end }}
{{ end }}

{{ define "email.default.subject" }}
[{{ .Status | toUpper }}] {{ .GroupLabels.alertname }} - {{ .GroupLabels.cluster }}
{{ end }}

{{ define "email.default.html" }}
<!DOCTYPE html>
<html>
<head>
    <style>
        body { font-family: Arial, sans-serif; }
        .alert { margin: 20px 0; padding: 15px; border-left: 4px solid #ddd; }
        .alert.firing { border-left-color: #ff0000; background-color: #fff5f5; }
        .alert.resolved { border-left-color: #00ff00; background-color: #f0fff0; }
        .label { font-weight: bold; }
        .value { margin-left: 10px; }
        .severity-critical { color: #ff0000; font-weight: bold; }
        .severity-warning { color: #ff9900; font-weight: bold; }
        .severity-info { color: #0066cc; }
    </style>
</head>
<body>
    <h2>{{ .Status | toUpper }}: {{ .GroupLabels.alertname }}</h2>
    <p><strong>Cluster:</strong> {{ .GroupLabels.cluster }}</p>
    <p><strong>Time:</strong> {{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}</p>

    {{ range .Alerts }}
    <div class="alert {{ .Status }}">
        <h3>{{ .Labels.alertname }}</h3>

        <p><span class="label">Severity:</span>
        <span class="value severity-{{ .Labels.severity }}">{{ .Labels.severity | toUpper }}</span></p>

        <p><span class="label">Category:</span>
        <span class="value">{{ .Labels.category }}</span></p>

        <p><span class="label">Instance:</span>
        <span class="value">{{ .Labels.instance }}</span></p>

        <p><span class="label">Summary:</span>
        <span class="value">{{ .Annotations.summary }}</span></p>

        <p><span class="label">Description:</span>
        <span class="value">{{ .Annotations.description }}</span></p>

        {{ if .Annotations.runbook_url }}
        <p><span class="label">Runbook:</span>
        <span class="value"><a href="{{ .Annotations.runbook_url }}">{{ .Annotations.runbook_url }}</a></span></p>
        {{ end }}

        <p><span class="label">Started:</span>
        <span class="value">{{ .StartsAt.Format "2006-01-02 15:04:05 MST" }}</span></p>

        {{ if .EndsAt }}
        <p><span class="label">Ended:</span>
        <span class="value">{{ .EndsAt.Format "2006-01-02 15:04:05 MST" }}</span></p>
        {{ end }}

        <p><span class="label">Labels:</span></p>
        <ul>
        {{ range .Labels.SortedPairs }}
            <li>{{ .Name }}: {{ .Value }}</li>
        {{ end }}
        </ul>
    </div>
    {{ end }}

    <hr>
    <p><small>This alert was generated by Norn Alertmanager</small></p>
</body>
</html>
{{ end }}

{{ define "pagerduty.default.description" }}
{{ .GroupLabels.alertname }} on {{ .GroupLabels.cluster }}
{{ end }}

{{ define "pagerduty.default.client" }}
Norn Alertmanager
{{ end }}

{{ define "pagerduty.default.client_url" }}
https://alertmanager.norn.io
{{ end }}
